<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_COMMAND | Tactical Briefing & Intel | YISHEN GLOBAL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --neon-blue: #0ea5e3; --warning-gold: #ffd700; --bg-deep: #010409; }
        body { background-color: var(--bg-deep); font-family: 'Inter', sans-serif; color: #fff; overflow-x: hidden; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        /* [PATCH] 数字化扫描仪背景 */
        .grid-bg { background-image: radial-gradient(rgba(14, 165, 223, 0.05) 1px, transparent 1px); background-size: 30px 30px; }
        
        /* 交互式发光补丁 */
        #cursor-glow { 
            position: fixed; width: 500px; height: 500px; 
            background: radial-gradient(circle, rgba(14, 165, 223, 0.08) 0%, transparent 70%); 
            pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); will-change: transform;
        }

        .terminal-box { background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 255, 255, 0.05); box-shadow: 0 0 30px rgba(0, 0, 0, 0.5); }
        .input-strike { background: transparent; border-bottom: 2px solid rgba(14, 165, 227, 0.2); transition: 0.3s; }
        .input-strike:focus { border-bottom-color: var(--neon-blue); outline: none; background: rgba(14, 165, 227, 0.03); }

        /* 数据流动画补丁 */
        .data-stream { animation: streamUp 15s linear infinite; }
        @keyframes streamUp { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }
        
        .scan-line { position: absolute; width: 100%; height: 2px; background: var(--neon-blue); opacity: 0.3; animation: scan 4s linear infinite; }
        @keyframes scan { 0% { top: 0%; } 100% { top: 100%; } }
    </style>
</head>
<body class="grid-bg selection:bg-[#0ea5e3]">

    <div id="cursor-glow"></div>

    <nav class="fixed w-full z-[100] border-b border-white/5 bg-[#010409]/95 backdrop-blur-md h-20 flex items-center px-8 justify-between">
        <a href="index.html" class="flex flex-col">
            <span class="text-white font-black italic text-xl tracking-tighter uppercase">YISHEN_HQ</span>
            <span class="text-[#0ea5e3] font-mono text-[8px] tracking-[4px]">TACTICAL_COMMAND_V5.0</span>
        </a>
        <div class="hidden lg:flex gap-10 font-mono text-[10px] text-gray-400 uppercase tracking-widest">
            <a href="genesis.html" class="hover:text-white transition">01_GENESIS</a>
            <a href="clusters.html" class="hover:text-white transition">03_CLUSTERS</a>
            <a href="technical-passport.html" class="hover:text-white transition">04_PASSPORT</a>
        </div>
    </nav>

    <main class="pt-40 pb-20 px-[5%] max-w-[1600px] mx-auto grid lg:grid-cols-2 gap-16">
        
        <div class="space-y-8">
            <header>
                <span class="font-mono text-[#0ea5e3] tracking-[6px] text-xs uppercase">// HQ_DIRECTIVE_ENGINE</span>
                <h1 class="text-white text-6xl font-black italic uppercase tracking-tighter mt-4 leading-none">
                    Command <br><span class="text-[#0ea5e3]">Center.</span>
                </h1>
            </header>

            <div class="relative group rounded-sm overflow-hidden border border-white/5 bg-black h-[240px] terminal-box">
                <div class="scan-line"></div>
                <div class="absolute inset-0 p-6 font-mono text-[9px] text-gray-600 overflow-hidden">
                    <div class="data-stream">
                        <p class="text-[#0ea5e3] mb-1">> [INTERCEPT] Savannah_Port: HS_9401.31 Mesh Chair Incoming...</p>
                        <p class="mb-1">> [ANALYZE] Consignee: ASHLEY_FURNITURE_CORP | Node: Active</p>
                        <p class="text-[#ffd700] mb-1">> [SOVEREIGN] ASEAN Node Synced for Duty Offset Protocol.</p>
                        <p class="text-[#A11219] mb-1">> [AUDIT] DUNS: 545277884 Verified. Compliance Secured.</p>
                        <p class="text-[#0ea5e3] mt-4 mb-1">> [INTERCEPT] Houston_Port: HS_7315.82 Heavy Duty Chains...</p>
                        <p class="text-white mb-1">> [READY] Command Payload Prepared for Director level outreach.</p>
                    </div>
                </div>
                <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,transparent_0%,rgba(0,0,0,0.8)_100%)]"></div>
            </div>

            <div class="terminal-box p-8 rounded-sm">
                <label class="block font-mono text-gray-500 text-[9px] uppercase mb-4 tracking-[3px]">Global_HS_Interception</label>
                <input type="text" id="hs-input" placeholder="SEARCH HS_CODE (e.g. 7315 / 9402)" 
                       class="w-full input-strike py-3 font-mono text-sm text-[#0ea5e3]">
                <div id="hs-results" class="mt-4 max-h-[150px] overflow-y-auto space-y-2"></div>
            </div>

            <div class="terminal-box p-8 rounded-sm border-t-2 border-[#0ea5e3]">
                <label class="block font-mono text-gray-500 text-[9px] uppercase mb-4 tracking-[3px]">Mission_Agent_Alpha</label>
                <div id="agent-output" class="h-[140px] overflow-y-auto font-mono text-[10px] text-gray-400 mb-6 space-y-2 bg-black/30 p-4">
                    <div class="text-[#0ea5e3]">> HQ_CONNECTED. Awaiting instruction...</div>
                </div>
                <div class="flex gap-4">
                    <input type="text" id="user-task" placeholder="ENTER MISSION PARAMETERS..." 
                           class="flex-grow input-strike py-3 font-mono text-xs">
                    <button onclick="runAgent()" class="px-6 bg-[#0ea5e3] text-black font-black italic text-xs uppercase hover:bg-white transition">
                        EXECUTE
                    </button>
                </div>
            </div>
        </div>

        <div class="space-y-8">
            <div class="terminal-box p-10 border-l-4 border-[#ffd700]">
                <h3 class="text-white text-3xl font-black italic uppercase mb-2 tracking-tighter">Access the Vault</h3>
                <p class="text-gray-500 text-xs font-mono mb-10 uppercase tracking-widest">// Submit credentials for ISO/BIM data access</p>
                
                <form id="briefing-form" class="space-y-8">
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <label class="block font-mono text-[9px] text-gray-600 uppercase mb-2">Commander_Identity</label>
                            <input type="text" name="name" placeholder="Full Name / Corp" required class="w-full input-strike py-3 text-sm">
                        </div>
                        <div>
                            <label class="block font-mono text-[9px] text-gray-600 uppercase mb-2">Secure_Comms_Node</label>
                            <input type="email" name="email" placeholder="Official Email" required class="w-full input-strike py-3 text-sm">
                        </div>
                    </div>

                    <div>
                        <label class="block font-mono text-[9px] text-gray-600 uppercase mb-2">Mission_Objective (Sector)</label>
                        <select name="interest_sector" class="w-full bg-black/50 border-b-2 border-white/10 py-4 font-mono text-xs focus:border-[#0ea5e3] outline-none text-[#0ea5e3]">
                            <option value="MEDICAL_PRECISION">MEDICAL_PRECISION (HS 9402)</option>
                            <option value="MARITIME_HARDWARE">MARITIME_HARDWARE (HS 7315)</option>
                            <option value="OFFICE_SOVEREIGNTY">OFFICE_SOVEREIGNTY (HS 9401)</option>
                            <option value="MILITARY_AERO">MILITARY_AERO (MIL-STD)</option>
                            <option value="BIO_MATERIALS">BIO_MATERIALS (CBAM_READY)</option>
                        </select>
                    </div>

                    <div>
                        <label class="block font-mono text-[9px] text-gray-600 uppercase mb-2">Strategic_Message</label>
                        <textarea name="message" rows="3" placeholder="Input HS Code specifications or pain points..." class="w-full input-strike py-3 text-sm resize-none"></textarea>
                    </div>

                    <div id="form-status" class="hidden font-mono text-[10px] py-3 animate-pulse"></div>

                    <button type="submit" class="w-full py-6 bg-white text-black font-black uppercase tracking-[10px] hover:bg-[#ffd700] transition-all shadow-[0_15px_40px_rgba(0,0,0,0.5)]">
                        Initialize_Data_Sync
                    </button>
                </form>
            </div>

            <div class="grid grid-cols-3 gap-6">
                <div class="tactical-card p-6 border border-white/5 bg-white/[0.02] text-center rounded-sm">
                    <div class="text-[#0ea5e3] text-2xl font-black mb-1">28</div>
                    <div class="text-[8px] text-gray-600 font-mono uppercase tracking-widest">Active Nodes</div>
                </div>
                <div class="tactical-card p-6 border border-white/5 bg-white/[0.02] text-center rounded-sm">
                    <div class="text-[#ffd700] text-2xl font-black mb-1">0%</div>
                    <div class="text-[8px] text-gray-600 font-mono uppercase tracking-widest">Duty_ASEAN</div>
                </div>
                <div class="tactical-card p-6 border border-white/5 bg-white/[0.02] text-center rounded-sm">
                    <div class="text-white text-2xl font-black mb-1">545k</div>
                    <div class="text-[8px] text-gray-600 font-mono uppercase tracking-widest">DUNS_Verified</div>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-24 border-t border-white/5 bg-black">
        <div class="max-w-[1440px] mx-auto px-8 flex flex-col md:flex-row justify-between items-center gap-12">
            <div class="text-[10px] font-mono text-gray-700 uppercase tracking-[4px]">
                © 2026 Yishen Global // Command_Terminal_Verified
            </div>
            <div class="flex flex-wrap items-center gap-10 grayscale opacity-40 hover:grayscale-0 transition-all duration-700">
                <img src="assets/icons/bifma-badge.webp" class="h-6" alt="BIFMA">
                <img src="assets/icons/en131-badge.webp" class="h-6" alt="EN131">
                <img src="assets/icons/ista-badge.webp" class="h-6" alt="ISTA">
                <img src="assets/icons/logo-ul.webp" class="h-6" alt="UL">
            </div>
        </div>
    </footer>

    <script src="terminal-logic.js"></script>
    <script>
        // 数字化微光引擎
        const glow = document.getElementById('cursor-glow');
        document.addEventListener('mousemove', (e) => {
            requestAnimationFrame(() => {
                glow.style.left = e.clientX + 'px';
                glow.style.top = e.clientY + 'px';
            });
        });

        // 表单拦截与对撞分发逻辑
        document.getElementById('briefing-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const status = document.getElementById('form-status');
            const btn = this.querySelector('button');
            const formData = new FormData(this);
            
            status.classList.remove('hidden');
            status.innerHTML = "<span class='text-[#0ea5e3]'>> UPLOADING_ENCRYPTED_PACKET...</span>";
            btn.disabled = true;
            btn.style.opacity = "0.5";

            // [INTEGRATION]: 调用医疗精密/东盟原产地自动回复逻辑
            if (window.handleMedicalSubmission) {
                window.handleMedicalSubmission(formData);
            }

            setTimeout(() => {
                status.innerHTML = "<span class='text-[#ffd700]'>> SUCCESS: MISSION_RECEIVED. COLLIDING_INTEL_NODES...</span>";
                setTimeout(() => {
                    // 动态路由：根据选择的维度，跳转至对应的 Technical Passport
                    window.location.href = 'technical-passport.html?id=' + (formData.get('interest_sector') === 'MEDICAL_PRECISION' ? 'HS_9402' : 'OFFICE_MESH_V4');
                }, 1500);
            }, 2000);
        });
    </script>
</body>
</html>
